@using OfferVerse.ViewModels
@model ReviewServiceViewModel

<h2 class="my-5">Leave a review</h2>

<form method="post" asp-action="ReviewService" asp-route-servicePId="@Model.ServiceDemanded.ServiceProvider.MemberId"
                                               asp-route-serviceDId="@Model.ServiceDemanded.ServiceId">
    <table class="table table-striped table-bordered table-hover">
        <tr>
            <th class="w-25"><label asp-for="@Model.Commentary.Content"></label></th>
            <td class="w-50"><textarea asp-for="@Model.Commentary.Content" class="form-control"></textarea></td>
            <td class="w-25"><span asp-validation-for="@Model.Commentary.Content" class="text-danger px-2"></span></td>
        </tr>

        <tr>
            <th><label asp-for="@Model.Commentary.Rating"></label></th>
            <td class="d-flex align-content-center">
                <p id="rating" class="my-auto mx-4 fs-3 w-25 text-center">0</p>
                <input asp-for="@Model.Commentary.Rating" type="range" min="0" max="5" class="form-control" style="cursor: pointer;" id="input-rating" />
            </td>
            <td><span asp-validation-for="@Model.Commentary.Rating" class="text-danger px-2"></span></td>
        </tr>

        <tr>
            <th><label asp-for="@Model.ServiceDemanded.NbHours"></label></th>
            <td class="d-flex align-content-center">
                <p id="hours" class="my-auto mx-4 fs-3 w-25 text-center">1</p>
                <input asp-for="@Model.ServiceDemanded.NbHours" type="range" min="1" max="200" class="form-control" style="cursor: pointer;" id="input-hours" />
            </td>
            <td><span asp-validation-for="@Model.ServiceDemanded.NbHours" class="text-danger px-2"></span></td>
        </tr>
    </table>
    <input type="hidden" value="@Model.ServiceDemanded.ServiceId" name="ServiceDemandedId" />
    <input type="hidden" asp-for="@Model.Commentary.ServiceProvided.ServiceProvidedId" value="@Model.ServiceDemanded.ServiceProvided.ServiceProvidedId" />

    <div class="d-flex gap-xl-5 justify-content-start">
        <a asp-action="ShowInProgressServices" class="btn btn-dark my-2 p-2 px-4 w-25">Back</a>
        <input type="submit" value="Validate" class="btn btn-success my-2 p-2 px-4 w-25" />
    </div>
</form>

<script src="~/js/FinalizeService.js" defer></script>
